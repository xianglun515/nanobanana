<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸå§‹åˆ†è¾¨ç‡æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-item {
            margin: 15px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f9f9f9;
        }
        .test-image {
            max-width: 200px;
            max-height: 200px;
            border: 2px solid #ddd;
            border-radius: 4px;
            margin: 10px 0;
        }
        .result {
            background: #e9ecef;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-family: monospace;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover {
            background: #0056b3;
        }
        .highlight {
            background: #fff3cd;
            color: #856404;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>ğŸ” åŸå§‹åˆ†è¾¨ç‡æµ‹è¯•</h1>
    <p>æ­¤é¡µé¢ç”¨äºæµ‹è¯•å›¾ç‰‡åŸå§‹åˆ†è¾¨ç‡çš„è·å–æ˜¯å¦æ­£ç¡®</p>
    
    <div class="test-section">
        <h2>ğŸ§ª æµ‹è¯•ç”¨ä¾‹</h2>
        
        <div class="test-item">
            <h3>1. é«˜åˆ†è¾¨ç‡å›¾ç‰‡æµ‹è¯•</h3>
            <p>æµ‹è¯•ä¸€å¼ é«˜åˆ†è¾¨ç‡å›¾ç‰‡çš„åŸå§‹å°ºå¯¸è·å–</p>
            <img id="highResImage" class="test-image" alt="é«˜åˆ†è¾¨ç‡æµ‹è¯•å›¾ç‰‡" src="https://picsum.photos/1920/1080">
            <br>
            <button onclick="testHighResImage()">æµ‹è¯•é«˜åˆ†è¾¨ç‡å›¾ç‰‡</button>
            <div id="highResResult" class="result"></div>
        </div>
        
        <div class="test-item">
            <h3>2. å°å°ºå¯¸å›¾ç‰‡æµ‹è¯•</h3>
            <p>æµ‹è¯•ä¸€å¼ å°å°ºå¯¸å›¾ç‰‡çš„åŸå§‹å°ºå¯¸è·å–</p>
            <img id="smallImage" class="test-image" alt="å°å°ºå¯¸æµ‹è¯•å›¾ç‰‡" src="https://picsum.photos/100/100">
            <br>
            <button onclick="testSmallImage()">æµ‹è¯•å°å°ºå¯¸å›¾ç‰‡</button>
            <div id="smallResult" class="result"></div>
        </div>
        
        <div class="test-item">
            <h3>3. æœ¬åœ°ç”Ÿæˆå›¾ç‰‡æµ‹è¯•</h3>
            <p>æµ‹è¯•æœ¬åœ°ç”Ÿæˆçš„å›¾ç‰‡å°ºå¯¸è·å–</p>
            <canvas id="testCanvas" width="300" height="200" style="display: none;"></canvas>
            <img id="localImage" class="test-image" alt="æœ¬åœ°æµ‹è¯•å›¾ç‰‡">
            <br>
            <button onclick="testLocalImage()">æµ‹è¯•æœ¬åœ°å›¾ç‰‡</button>
            <div id="localResult" class="result"></div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“‹ æµ‹è¯•è¯´æ˜</h2>
        <div class="test-item">
            <h3>å…³é”®åŒºåˆ«ï¼š</h3>
            <ul>
                <li><span class="highlight">img.width / img.height</span>ï¼šå›¾ç‰‡åœ¨é¡µé¢ä¸­æ˜¾ç¤ºçš„å°ºå¯¸ï¼ˆå¯èƒ½è¢«CSSç¼©æ”¾ï¼‰</li>
                <li><span class="highlight">img.naturalWidth / img.naturalHeight</span>ï¼šå›¾ç‰‡çš„åŸå§‹åˆ†è¾¨ç‡ï¼ˆä¸å—CSSå½±å“ï¼‰</li>
            </ul>
            <p><strong>ä¿®å¤å†…å®¹ï¼š</strong>å°†ä»£ç ä¸­çš„ <code>img.width</code> å’Œ <code>img.height</code> æ”¹å› <code>img.naturalWidth</code> å’Œ <code>img.naturalHeight</code>ï¼Œç¡®ä¿è·å–çš„æ˜¯åŸå§‹åˆ†è¾¨ç‡è€Œä¸æ˜¯æ˜¾ç¤ºå°ºå¯¸ã€‚</p>
        </div>
    </div>

    <script>
        // æµ‹è¯•é«˜åˆ†è¾¨ç‡å›¾ç‰‡
        function testHighResImage() {
            const img = document.getElementById('highResImage');
            const resultDiv = document.getElementById('highResResult');
            
            resultDiv.innerHTML = `
                <strong>æµ‹è¯•ç»“æœï¼š</strong><br>
                <span class="highlight">img.width / img.height:</span> ${img.width} Ã— ${img.height}<br>
                <span class="highlight">img.naturalWidth / img.naturalHeight:</span> ${img.naturalWidth} Ã— ${img.naturalHeight}<br>
                <span class="highlight">CSS max-width/max-height:</span> 200px Ã— 200px<br>
                <br>
                <strong>ç»“è®ºï¼š</strong> ${img.naturalWidth > img.width ? 'âœ… åŸå§‹åˆ†è¾¨ç‡æ­£ç¡®' : 'âŒ æ˜¾ç¤ºå°ºå¯¸é”™è¯¯'}
            `;
        }
        
        // æµ‹è¯•å°å°ºå¯¸å›¾ç‰‡
        function testSmallImage() {
            const img = document.getElementById('smallImage');
            const resultDiv = document.getElementById('smallResult');
            
            resultDiv.innerHTML = `
                <strong>æµ‹è¯•ç»“æœï¼š</strong><br>
                <span class="highlight">img.width / img.height:</span> ${img.width} Ã— ${img.height}<br>
                <span class="highlight">img.naturalWidth / img.naturalHeight:</span> ${img.naturalWidth} Ã— ${img.naturalHeight}<br>
                <span class="highlight">CSS max-width/max-height:</span> 200px Ã— 200px<br>
                <br>
                <strong>ç»“è®ºï¼š</strong> ${img.naturalWidth === 100 && img.naturalHeight === 100 ? 'âœ… åŸå§‹åˆ†è¾¨ç‡æ­£ç¡®' : 'âŒ æ˜¾ç¤ºå°ºå¯¸é”™è¯¯'}
            `;
        }
        
        // æµ‹è¯•æœ¬åœ°ç”Ÿæˆå›¾ç‰‡
        function testLocalImage() {
            const canvas = document.getElementById('testCanvas');
            const ctx = canvas.getContext('2d');
            const resultDiv = document.getElementById('localResult');
            
            // ç»˜åˆ¶æµ‹è¯•å›¾ç‰‡
            ctx.fillStyle = '#ff6b6b';
            ctx.fillRect(0, 0, 300, 200);
            ctx.fillStyle = 'white';
            ctx.font = '24px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('300x200', 150, 100);
            
            // ç”Ÿæˆdata URLå¹¶è®¾ç½®åˆ°imgå…ƒç´ 
            const dataUrl = canvas.toDataURL('image/png');
            const img = document.getElementById('localImage');
            img.src = dataUrl;
            
            // ç­‰å¾…å›¾ç‰‡åŠ è½½å®Œæˆ
            img.onload = () => {
                resultDiv.innerHTML = `
                    <strong>æµ‹è¯•ç»“æœï¼š</strong><br>
                    <span class="highlight">img.width / img.height:</span> ${img.width} Ã— ${img.height}<br>
                    <span class="highlight">img.naturalWidth / img.naturalHeight:</span> ${img.naturalWidth} Ã— ${img.naturalHeight}<br>
                    <span class="highlight">Canvas å°ºå¯¸:</span> 300 Ã— 200<br>
                    <span class="highlight">CSS max-width/max-height:</span> 200px Ã— 200px<br>
                    <br>
                    <strong>ç»“è®ºï¼š</strong> ${img.naturalWidth === 300 && img.naturalHeight === 200 ? 'âœ… åŸå§‹åˆ†è¾¨ç‡æ­£ç¡®' : 'âŒ æ˜¾ç¤ºå°ºå¯¸é”™è¯¯'}
                `;
            };
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æµ‹è¯•
        window.addEventListener('load', () => {
            console.log('åŸå§‹åˆ†è¾¨ç‡æµ‹è¯•é¡µé¢å·²åŠ è½½');
            
            // å»¶è¿Ÿä¸€ç‚¹æ—¶é—´ç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆ
            setTimeout(() => {
                testHighResImage();
                testSmallImage();
                testLocalImage();
            }, 1000);
        });
    </script>
</body>
</html>



